<%- options = options.present? ? options : { store: true } %>

<div class="p-1 text-wrap w-25">
  <% if item.default_photo.previewable? %>
    <%= link_to image_tag(item.default_photo.variant(resize_to_limit: [300, 100]), loading: :lazy),
          "#photos-item-#{item.id}", 'data-bs-toggle': 'modal' %>

  <% else %>
    <%= image_tag '/default/camera.svg', width: '150px', style: 'opacity: 0.1' %>
  <% end %>
  <h6 class="mb-0">
    <%= link_to item.name, item_path(item) %>
  </h6>
  <%- if options[:store] %>
    <div>
      <%= link_to(item.store.name, store_path(item.store)) if item.store %>
    </div>
  <% end %>
</div>

<%= render 'items/photo_modal', item: item  %>