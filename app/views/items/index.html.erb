<%#= react_component 'items/listing' %>

<% content_for :search_form do %>
  <%= render 'layouts/search_form' %>
<% end %>

<% content_for :breadcrumbs do %>
  <div class="d-flex align-items-center">
    <div class="me-auto">
      <%= t(:home) %>
    </div>
    <div class="me-2">
      <% if signed_in? %>
        <%= render 'layouts/listing_mode_form' %>
      <% end %>
    </div>
    <div>
      <%#= select_tag 'order', options_for_select([['Featured', 0], ['Price: Low to High', 1], ['Price: High to Low', 1], ['Avg. Customer Review', 1]]) %>
    </div>
  </div>
<% end %>

<div class="card">
  <div class="card-body">
    <div class="<%= build_items_classes(current_user.setting.try(:listing_mode) || 'column') %>">
      <% @items.each do |item| %>
        <%= render current_user.setting.try(:listing_mode) || 'column', item: item %>
      <% end %>
    </div>
  </div>
</div>

<%= will_paginate(@items) %>